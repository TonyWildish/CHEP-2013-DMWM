%!TEX root = chep2013_LifeCycle.tex
\subsection{Data Bookkeeping Service}
The Data Bookkeeping Service (DBS) \cite{DBS} provides a catalog of event metadata for Monte Carlo and recorded data of the CMS experiment. DBS contains records of what data exists, their process-oriented provenance information, including parentage relationships of files and datasets and their configurations of processing steps. It also contains associations with run numbers and luminosity sections to allow lookup of any subset of events within a dataset, on a large scale of about $200,000$ datasets and more than $40$ million files, which adds up in around $700$ GB of metadata. The DBS is an essential part of the CMS Data Management and Workload Management (DMWM) systems \cite{CMSDMS}. All kind of data-processing - Monte Carlo production, processing of recorded event data as well as physics analysis done by the users - relies heavily on the information stored in DBS.

\subsection{Scale testing of DBS~3}
The LifeCycle agent is perfectly suited for the scale testing of DBS~3, which is a crucial step to ensure a reliable system even in conditions of high load. DBS~3 is written in Python, therefore a Python framework was developed to simplify the interaction with the LifeCycle agent. The framework facilitates the handling of JSON payloads, error handling, building HTTP API calls from payloads and provides timing utilities. The collected data can be sent back to the LifeCycle agent or exported to a SQLite database for further analysis. For the analysis of these data an additional package, {\it LifeCycleAnalysis} was developed. It contains a ROOT histogram manager automatically creating various timing and error distribution histograms for all the APIs used in the scale test. This framework is generic, it can be easily used by any python-based tool to interact with the LifeCycle agent. The actual scale tests were performed by using several LifeCycle agents and workflows submitted to a batch system, which allows to run an arbitrary number of workflows against the server being tested. Therefore, additional scripts are part of the framework to simplify the interaction with the LSF batch system at CERN.
